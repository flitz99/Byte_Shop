{% extends 'base.html' %}

{% block head %}

{% load static %}
<link rel="stylesheet" type="text/css" href="{% static '/css/style.css' %}">
{% load crispy_forms_tags %}

{% endblock %}

{% block title %}{{title}} {% endblock %}

{% block content %}

{% include "header.html" %}

<center>
    <br>
    <div class="container">
        <div class="row justify-content-center" style="background-color:white;border-radius:25px;">
            <div class="col-4"  >
                <br>
                <h3>Crea il tuo account</h3>
                Utente gi√† registrato? Effettua il  <a href="./signin"> Login </a>

                <form method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                        <br>
                        {{ form.first_name | as_crispy_field }}
                        {{ form.last_name | as_crispy_field }}
                        {{ form.email | as_crispy_field }}

                    {% if title == "client" %}

                        {{ form.profile_image | as_crispy_field }}
                        {{ form.birth_date | as_crispy_field }}
                        {{ form.telephone | as_crispy_field }}
                        {{ form.address | as_crispy_field }}
                        {{ form.house_number | as_crispy_field }}
                        {{ form.city | as_crispy_field }}
                        {{ form.province | as_crispy_field }}
                        {{ form.cap | as_crispy_field }}
                    
                    {% endif %}

                        {{ form.username | as_crispy_field }}
                        {{ form.password1 | as_crispy_field }}
                        {{ form.password2 | as_crispy_field }}
                    
                    
                    <br>
                    <button type="submit" class="btn btn-primary">Registrati</button>
                    <br>   
                </form>  

            {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                    <strong>Message:</strong> {{ message }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            {% endfor %}
            <br> <br>

            </div>
            
        </div>
    </div>
    <br> <br>

</center>

{% endblock %}